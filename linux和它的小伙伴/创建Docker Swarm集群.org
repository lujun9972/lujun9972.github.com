#+TITLE: åˆ›å»ºDocker Swarmé›†ç¾¤
#+AUTHOR: lujun9972
#+TAGS: linuxå’Œå®ƒçš„å°ä¼™ä¼´,docker
#+DATE: [2018-07-17 äºŒ 16:55]
#+LANGUAGE:  zh-CN
#+OPTIONS:  H:6 num:nil toc:t \n:nil ::t |:t ^:nil -:nil f:t *:t <:nil

Docker Swarmæ˜¯ç”±Dockeræä¾›çš„åŸç”Ÿé›†ç¾¤å·¥å…·ï¼Œé€šè¿‡å®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†å¤šå°ä¸»æœºç»„æˆä¸€ä¸ªé›†ç¾¤ã€‚
å…¶ä¸­ï¼Œæ¯ä¸ªé›†ç¾¤éƒ½å¯ä»¥æœ‰å¤šå°managerå’Œå¤šå°workerã€‚


* åˆ›å»ºSwarmé›†ç¾¤
åˆ›å»ºSwarmé›†ç¾¤çš„åŠ¨ä½œå…¶å®å°±æ˜¯æŠŠä¸€å°ä¸»æœºNodeåˆå§‹åŒ–æˆmanagerçš„è¡Œä¸ºï¼Œæ–¹æ³•è¶…çº§ç®€å•ï¼Œåªéœ€è¦åœ¨ manager node ä¸»æœºä¸Šæ‰§è¡Œ
#+BEGIN_SRC shell :dir /ssh:root@tencent_cloud: :results org
  docker swarm init --advertise-addr 172.27.0.8
#+END_SRC

#+BEGIN_SRC org
Swarm initialized: current node (wrjpsf0ms32ioem9ozw5xu27r) is now a manager.

To add a worker to this swarm, run the following command:

    docker swarm join --token SWMTKN-1-0brpw02md8cpm97xld6go5tat7fuj7hggdvp7an5rm49ybhp8v-76mcm21ak8phkez4ktf8wa5b0 172.27.0.8:2377

To add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.

#+END_SRC

=docker swarm init= ä¼šéšæœºç”Ÿæˆä¸¤ä¸ªtokenï¼Œä¸€ä¸ªworker tokenï¼Œä¸€ä¸ªmanager tokenã€‚

æ¯”å¦‚ä¸Šé¢è¾“å‡ºä¸­çš„ =SWMTKN-1-0brpw02md8cpm97xld6go5tat7fuj7hggdvp7an5rm49ybhp8v-76mcm21ak8phkez4ktf8wa5b0= å°±æ˜¯Worker Token

åé¢çš„ =172.27.0.8:2377= å°±æ˜¯å½“å‰clusterçš„IPå’Œç›‘å¬çš„ç«¯å£

è€Œæ ¹æ®æç¤ºï¼Œè·å– manager token é€šè¿‡æ‰§è¡Œä¸‹é¢å‘½ä»¤æ¥è·å–

#+BEGIN_SRC shell :dir /ssh:root@tencent_cloud: :results org
  docker swarm join-token manager
#+END_SRC

#+BEGIN_SRC org
To add a manager to this swarm, run the following command:

    docker swarm join --token SWMTKN-1-0brpw02md8cpm97xld6go5tat7fuj7hggdvp7an5rm49ybhp8v-0zyncobrt5vfcms9r8f1exyok 172.27.0.8:2377

#+END_SRC

manager Token ä¸º =SWMTKN-1-0brpw02md8cpm97xld6go5tat7fuj7hggdvp7an5rm49ybhp8v-0zyncobrt5vfcms9r8f1exyok=

æˆ‘ä»¬å¯ä»¥ç”¨ =docker info= æŸ¥ä¸€ä¸‹SwarmçŠ¶æ€
#+BEGIN_SRC shell :dir /ssh:root@tencent_cloud: results org
  docker info |sed -n "/^Swarm/,+5 p"
#+END_SRC

#+RESULTS:

#+BEGIN_SRC org
  WARNING: bridge-nf-call-ip6tables is disabled
  Swarm: active
   NodeID: wrjpsf0ms32ioem9ozw5xu27r
   Is Manager: true
   ClusterID: 9pz2p3d57im2yo2v3vayb5w8n
   Managers: 1
   Nodes: 1
#+END_SRC

å…¶ä¸­ =Is Manager: true= è¯´æ˜æœ¬èŠ‚ç‚¹æ˜¯ä½œä¸ºManagerï¼Œ =Managers: 1= è¯´æ˜é›†ç¾¤ä¸­æœ‰ä¸€ä¸ªManagerï¼Œ =Nodes: 1= è¯´æ˜é›†ç¾¤ä¸­åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚

æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ =docker node ls= å‘½ä»¤æ¥æŸ¥çœ‹é›†ç¾¤ä¸­å„èŠ‚ç‚¹çš„ä¿¡æ¯

#+BEGIN_SRC shell :dir /ssh:root@tencent_cloud: results org
  docker node ls
#+END_SRC

#+BEGIN_SRC org
  ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION
  wrjpsf0ms32ioem9ozw5xu27r *   VM_0_8_centos       Ready               Active              Leader              18.03.1-ce
#+END_SRC

IDåé¢çš„ =*= å·è¡¨ç¤ºè¿™ä¸ªè®°å½•å°±æ˜¯å½“å‰NODEçš„ä¿¡æ¯ã€‚

* å‘é›†ç¾¤ä¸­æ·»åŠ èŠ‚ç‚¹
ç°åœ¨æˆ‘ä»¬å¾€è¿™ä¸ªé›†ç¾¤ä¸­æ·»åŠ ä¸€ä¸ªworkerèŠ‚ç‚¹ï¼Œæ–¹æ³•å¾ˆç®€å•ï¼Œè·Ÿç€ =docker swarm init= è¾“å‡ºä¸­çš„å‘½ä»¤æ¥æ‰§è¡Œå°±è¡Œäº†

è¿™æ¬¡æˆ‘ä»¬åœ¨ worker nodeä¸»æœºä¸Šæ‰§è¡Œ

#+BEGIN_SRC shell  :results org
  docker swarm join --token SWMTKN-1-0brpw02md8cpm97xld6go5tat7fuj7hggdvp7an5rm49ybhp8v-76mcm21ak8phkez4ktf8wa5b0 118.24.148.238:2377
#+END_SRC

#+BEGIN_SRC org
This node joined a swarm as a worker.
#+END_SRC

æ³¨æ„åˆ°æˆ‘è¿™é‡Œ =docker swarm join= çš„IPæ˜¯ =118.24.148.238=, è€Œä¸æ˜¯å‰é¢è¾“å‡ºçš„ =172.27.0.8=, è¿™æ˜¯å› ä¸º =172.27.0.8= æ˜¯æˆ‘äº‘ä¸»æœºçš„å†…ç½‘IPï¼Œè€Œ =118.24.148.238= æ‰æ˜¯æ˜ å°„å‡ºæ¥çš„å…¬ç½‘IPåœ°å€ã€‚

è€Œæˆ‘çš„ worker nodeä¸»æœºæ˜¯é€šè¿‡å…¬ç½‘IPæ¥è®¿é—®manager nodeä¸»æœºçš„ï¼Œå› æ­¤è¿™é‡Œå¯¹IPè¿›è¡Œäº†ä¿®æ”¹ã€‚

å¦å¤–ï¼Œæœ‰æ—¶å€™å¯èƒ½ä¼šé‡åˆ°éœ€è¦æŠŠä¸€ä¸ªworkèŠ‚ç‚¹æå‡åˆ° managerèŠ‚ç‚¹çš„å¯èƒ½ï¼Œåˆ™å¯ä»¥åœ¨ =join= å‘½ä»¤ä¸­æ·»åŠ  =--listen-addr ${WORKER_IP}:2377= ä½œä¸ºç›‘å¬å‡†å¤‡

å¢åŠ èŠ‚ç‚¹åï¼Œå†æ¥çœ‹ä¸€ä¸‹é›†ç¾¤ä¸­å„èŠ‚ç‚¹çš„ä¿¡æ¯ï¼š

åœ¨manager nodeä¸Šæ‰§è¡Œ
#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker node ls
#+END_SRC

#+BEGIN_SRC org
ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION
qpinc63kw5ta2t1b5ojhi8r1o     T520                Ready               Active                                  18.05.0-ce
wrjpsf0ms32ioem9ozw5xu27r *   VM_0_8_centos       Ready               Active              Leader              18.03.1-ce
#+END_SRC

å¯ä»¥çœ‹åˆ°å¤šäº†ä¸€ä¸ªNODEä¿¡æ¯ã€‚

å¦å¤–å€¼å¾—ä¸€è¯´çš„æ˜¯ï¼Œç±»ä¼¼ =docker node ls= è¿™äº›ç®¡ç†ç±»çš„å‘½ä»¤åªèƒ½åœ¨ manager node ä¸Šæ‰§è¡Œï¼Œè‹¥åœ¨ worker node ä¸Šæ‰§è¡Œåˆ™ä¼šå¤±è´¥ï¼š
#+BEGIN_EXAMPLE
  [lujun9972@T520 ~]$ docker node ls
  Error response from daemon: This node is not a swarm manager. Worker nodes can't be used to view or modify cluster state. Please run this command on a manager node or promote the current node to a manager.
#+END_EXAMPLE

* éƒ¨ç½²æœåŠ¡åˆ°é›†ç¾¤ä¸­

æˆ‘ä»¬åœ¨manager nodeä¸Šä½¿ç”¨ =docker service create= å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæœåŠ¡.

*ä½†æ˜¯åœ¨éƒ¨ç½²æœåŠ¡å‰ï¼Œå…ˆéœ€è¦ä¿è¯é›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹éƒ½é¢„å…ˆæœ‰äº†è¦ä½¿ç”¨çš„é•œåƒ*

=docker service create= è·Ÿ =docker start= çš„å‘½ä»¤æ¥å£æœ‰ç‚¹åƒï¼š

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service create --name web --publish 8080:80 nginx:alpine
#+END_SRC

#+BEGIN_SRC org
rttpyxf8wbajmsr312j4r20ub

[1A[1K[Koverall progress: 0 out of 1 tasks [1B
[1A[1K[K1/1:   [1B[2A[1K[Koverall progress: 0 out of 1 tasks [2B[1A[1K[K1/1: assigned  [1B[2A[1K[Koverall progress: 0 out of 1 tasks [2B[1A[1K[K1/1: starting  [1B[2A[1K[Koverall progress: 0 out of 1 tasks [2B[1A[1K[K1/1: starting  [1B[2A[1K[Koverall progress: 0 out of 1 tasks [2B[1A[1K[K1/1: starting  [1B[2A[1K[Koverall progress: 0 out of 1 tasks [2B[1A[1K[K1/1: running   [1B[2A[1K[Koverall progress: 1 out of 1 tasks [2B
[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Service converged [1B
#+END_SRC

è¿™é‡Œ =--name web= è¡¨ç¤ºåˆ›å»ºçš„æœåŠ¡åç§°ä¸º =web=, è¿™ä¸ªæœåŠ¡æ˜¯åŸºäº =nginx:alpine= è¿™ä¸ªé•œåƒçš„ï¼Œè€Œä¸”å®¹å™¨çš„HTTPç«¯å£å‘å¸ƒåœ¨ä¸»æœºçš„8080ç«¯å£ä¸Šã€‚

è€Œä¸Šé¢å‘½ä»¤ä¸­çš„è¾“å‡º =rttpyxf8wbajmsr312j4r20ub= åˆ™æ˜¯è¿™ä¸ªæœåŠ¡çš„IDå·

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ =docker service ls= æ¥æŸ¥çœ‹é›†ç¾¤ä¸­çš„æœåŠ¡

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service ls
#+END_SRC

#+BEGIN_SRC org
ID                  NAME                MODE                REPLICAS            IMAGE               PORTS
rttpyxf8wbaj        web                 replicated          1/1                 nginx:alpine        *:8080->80/tcp
#+END_SRC

é€šè¿‡ä¸Šé¢çš„ =REPLICAS= å¯ä»¥çŸ¥é“ï¼Œè¿™ä¸ªæœåŠ¡ç”±å•ä¸ªå®¹å™¨æä¾›ï¼Œè€Œä¸”ç›®å‰æœ‰ä¸€ä¸ªå®¹å™¨åœ¨æä¾›æœåŠ¡ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ =docker service create= çš„ =--replicas= å‚æ•°æ¥è®¾ç½®åˆ›å»ºæœåŠ¡æ—¶å¯åŠ¨çš„å‰¯æœ¬æ•°ï¼Œæ¯”å¦‚

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service create --name ping --replicas 2 alpine ping www.baidu.com
#+END_SRC

#+BEGIN_SRC org
k2cvjo3nb4o7d1cqr4thv4c51

[1A[1K[Koverall progress: 0 out of 2 tasks [1B
[1A[1K[K1/2:   [1B
[1A[1K[K2/2:   [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: assigned  [2B[1A[1K[K2/2: assigned  [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: preparing [2B[1A[1K[K2/2: preparing [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: preparing [1B[2A[1K[K1/2: preparing [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: starting  [2B[1A[1K[K2/2: starting  [1B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[1A[1K[K2/2: starting  [1B[2A[1K[K1/2: starting  [2B[3A[1K[Koverall progress: 0 out of 2 tasks [3B[2A[1K[K1/2: running   [2B[1A[1K[K2/2: starting  [1B[3A[1K[Koverall progress: 1 out of 2 tasks [3B[2A[1K[K1/2: running   [2B[1A[1K[K2/2: running   [1B[3A[1K[Koverall progress: 2 out of 2 tasks [3B
[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Service converged [1B
#+END_SRC

è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªåä¸º =ping= çš„æœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡å¯åŠ¨äº†ä¸¤ä¸ªalpineå®¹å™¨ï¼Œæ‰§è¡Œ =ping www.baidu.com= è¿™ä¸ªå‘½ä»¤

æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé›†ç¾¤ä¸­çš„æœåŠ¡

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service ls
#+END_SRC

#+BEGIN_SRC org
ID                  NAME                MODE                REPLICAS            IMAGE               PORTS
k2cvjo3nb4o7        ping                replicated          2/2                 alpine:latest       
rttpyxf8wbaj        web                 replicated          1/1                 nginx:alpine        *:8080->80/tcp
#+END_SRC

* è°ƒæ•´æœåŠ¡è§„æ¨¡
ä½¿ç”¨å‘½ä»¤ =docker service scale ${SERVICE}=${NUMBER}= å¯ä»¥è°ƒæ•´æŒ‡å®šæœåŠ¡çš„è§„æ¨¡ï¼Œæ¯”å¦‚
#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service scale web=5
#+END_SRC

#+BEGIN_SRC org
web scaled to 5

[1A[1K[Koverall progress: 0 out of 5 tasks [1B
[1A[1K[K1/5:   [1B
[1A[1K[K2/5:   [1B
[1A[1K[K3/5:   [1B
[1A[1K[K4/5:   [1B
[1A[1K[K5/5:   [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[4A[1K[K2/5: assigned  [4B[3A[1K[K3/5: assigned  [3B[2A[1K[K4/5: assigned  [2B[1A[1K[K5/5: assigned  [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[4A[1K[K2/5: preparing [4B[3A[1K[K3/5: ready     [3B[2A[1K[K4/5: starting  [2B[1A[1K[K5/5: preparing [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[2A[1K[K4/5: starting  [2B[1A[1K[K5/5: starting  [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[5A[1K[K1/5: running   [5B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[2A[1K[K4/5: starting  [2B[1A[1K[K5/5: starting  [1B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[2A[1K[K4/5: starting  [2B[1A[1K[K5/5: starting  [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[2A[1K[K4/5: starting  [2B[1A[1K[K5/5: starting  [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[2A[1K[K4/5: starting  [2B[1A[1K[K5/5: starting  [1B[5A[1K[K1/5: running   [5B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[2A[1K[K4/5: starting  [2B[1A[1K[K5/5: starting  [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 1 out of 5 tasks [6B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[2A[1K[K4/5: running   [2B[1A[1K[K5/5: starting  [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 2 out of 5 tasks [6B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[2A[1K[K4/5: running   [2B[1A[1K[K5/5: starting  [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 2 out of 5 tasks [6B[4A[1K[K2/5: starting  [4B[3A[1K[K3/5: starting  [3B[2A[1K[K4/5: running   [2B[1A[1K[K5/5: starting  [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 2 out of 5 tasks [6B[4A[1K[K2/5: running   [4B[3A[1K[K3/5: running   [3B[2A[1K[K4/5: running   [2B[1A[1K[K5/5: running   [1B[5A[1K[K1/5: running   [5B[6A[1K[Koverall progress: 5 out of 5 tasks [6B
[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 5 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 4 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 3 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 2 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Waiting 1 seconds to verify that tasks are stable... [1B[1A[1K[Kverify: Service converged [1B
#+END_SRC

è¿™ä¸ªå‘½ä»¤å°†å¯åŠ¨5ä¸ªå®¹å™¨æ¥æä¾›webæœåŠ¡,æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé›†ç¾¤ä¸­çš„æœåŠ¡

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service ls
#+END_SRC

#+BEGIN_SRC org
ID                  NAME                MODE                REPLICAS            IMAGE               PORTS
k2cvjo3nb4o7        ping                replicated          2/2                 alpine:latest       
rttpyxf8wbaj        web                 replicated          5/5                 nginx:alpine        *:8080->80/tcp
#+END_SRC

æˆ‘ä»¬å¯ä»¥çœ‹åˆ° =web= æœåŠ¡çš„ =REPLICAS= å˜æˆäº† =5=

* æŸ¥çœ‹æœåŠ¡è¯¦ç»†ä¿¡æ¯
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ =docker service inspect= å‘½ä»¤æ¥æŸ¥çœ‹æŸé¡¹æœåŠ¡çš„è¯¦ç»†å†…å®¹ï¼Œæ¯”å¦‚

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service inspect --pretty web
#+END_SRC

#+BEGIN_SRC org

ID:		rttpyxf8wbajmsr312j4r20ub
Name:		web
Service Mode:	Replicated
 Replicas:	5
Placement:
UpdateConfig:
 Parallelism:	1
 On failure:	pause
 Monitoring Period: 5s
 Max failure ratio: 0
 Update order:      stop-first
RollbackConfig:
 Parallelism:	1
 On failure:	pause
 Monitoring Period: 5s
 Max failure ratio: 0
 Rollback order:    stop-first
ContainerSpec:
 Image:		nginx:alpine@sha256:56a9367b64eaef37894842a6f7a19a0ef8e7bd5de964aa844a70b3e2d758033c
Resources:
Endpoint Mode:	vip
Ports:
 PublishedPort = 8080
  Protocol = tcp
  TargetPort = 80
  PublishMode = ingress 
#+END_SRC

æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ =docker service ps ${SERVICE}= æ¥æŸ¥çœ‹æœåŠ¡è¿è¡Œåœ¨é‚£å‡ ä¸ªnodeä¸»æœºä¸Š

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service ps web
#+END_SRC

#+BEGIN_SRC org
ID                  NAME                IMAGE               NODE                DESIRED STATE       CURRENT STATE            ERROR               PORTS
xsldf1trr9ea        web.1               nginx:alpine        VM_0_8_centos       Running             Running 35 minutes ago                       
rf7s8r2e44xy        web.2               nginx:alpine        VM_0_8_centos       Running             Running 5 minutes ago                        
g0fc0edmriig        web.3               nginx:alpine        VM_0_8_centos       Running             Running 5 minutes ago                        
2y39megirflj        web.4               nginx:alpine        VM_0_8_centos       Running             Running 5 minutes ago                        
on0k4qnv7d5v        web.5               nginx:alpine        VM_0_8_centos       Running             Running 5 minutes ago                        
#+END_SRC

å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„å®¹å™¨éƒ½æ˜¯è¿è¡Œåœ¨ =VM_0_8_centos= è¿™ä¸ªèŠ‚ç‚¹ä¸Šçš„ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¸Šç›´æ¥è¿è¡Œ =docker ps= å‘½ä»¤æ¥çœ‹çœ‹æ˜¯ä¸æ˜¯æœ‰5ä¸ªnginxå®¹å™¨åœ¨è¿è¡Œ

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker ps  |grep nginx:alpine
#+END_SRC

#+RESULTS:
#+BEGIN_SRC org
e93f8e412c4d        nginx:alpine        "nginx -g 'daemon ofâ€¦"   11 minutes ago      Up 11 minutes       80/tcp              web.2.rf7s8r2e44xyvmqdno7442oez
abecc4812055        nginx:alpine        "nginx -g 'daemon ofâ€¦"   11 minutes ago      Up 11 minutes       80/tcp              web.3.g0fc0edmriigwx4crz64zv3id
cc7d82708eec        nginx:alpine        "nginx -g 'daemon ofâ€¦"   11 minutes ago      Up 11 minutes       80/tcp              web.4.2y39megirflj5nwko3kvhl8yu
4d695daec1ef        nginx:alpine        "nginx -g 'daemon ofâ€¦"   11 minutes ago      Up 11 minutes       80/tcp              web.5.on0k4qnv7d5v6b0g6z8s361s2
fa08b0567c13        nginx:alpine        "nginx -g 'daemon ofâ€¦"   42 minutes ago      Up 42 minutes       80/tcp              web.1.xsldf1trr9eavsdsh9efpne55
#+END_SRC

å¯ä»¥çœ‹åˆ°ç¡®å®æ˜¯5ä¸ªå®¹å™¨åœ¨è·‘ï¼Œä¸ç»“æœæ¸©å’Œ

* åˆ é™¤æœåŠ¡
åˆ é™¤æœåŠ¡å°±ç‰¹åˆ«ç®€å•äº†ï¼Œç›´æ¥åœ¨manager nodeä¸Šè¿è¡Œ =docker service rm ${SERVICE}= å°±è¡Œäº†ï¼Œæ¯”å¦‚

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service rm ping  
#+END_SRC

#+BEGIN_SRC org
ping
#+END_SRC

ç„¶åæˆ‘ä»¬å†ç”¨æŸ¥çœ‹ä¸€ä¸‹é›†ç¾¤ä¸­çš„æœåŠ¡

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service ls
#+END_SRC

#+BEGIN_SRC org
ID                  NAME                MODE                REPLICAS            IMAGE               PORTS
rttpyxf8wbaj        web                 replicated          5/5                 nginx:alpine        *:8080->80/tcp
#+END_SRC

ç°åœ¨åªå‰©ä¸‹ =web= è¿™ä¸€ä¸ªæœåŠ¡äº†

* æœåŠ¡å‡çº§
å½“æä¾›æœåŠ¡å®¹å™¨çš„é•œåƒå‘ç”Ÿæ›´æ”¹åï¼Œå¯ä»¥ä½¿ç”¨ =docker service update --image ${NEW_IMAGE} ${SERVICE}= æ¥è¿›è¡ŒæœåŠ¡å‡çº§ã€‚

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service update --image nginx:1.15.1-alpine-perl web
#+END_SRC

æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹é›†ç¾¤ä¸­çš„æœåŠ¡
#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker service ls
#+END_SRC

#+BEGIN_SRC org
ID                  NAME                MODE                REPLICAS            IMAGE                      PORTS
rttpyxf8wbaj        web                 replicated          5/5                 nginx:1.15.1-alpine-perl   *:8080->80/tcp
#+END_SRC

å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡é•œåƒå·²ç»å‘ç”Ÿäº†æ”¹å˜ã€‚

* NODEé€€å‡ºé›†ç¾¤
è¦å°†æŸä¸ªNODEé€€å‡ºé›†ç¾¤ååˆ†ç®€å•ï¼Œåªéœ€è¦åœ¨é‚£ä¸ªnodeä¸Šæ‰§è¡Œ =docker swarm leave= å³å¯ã€‚

æ¯”å¦‚æˆ‘åœ¨ worker node ä¸Šæ‰§è¡Œ
#+BEGIN_SRC shell :results org
  docker swarm leave
#+END_SRC

#+BEGIN_SRC org
  Node left the swarm.
#+END_SRC

å†åœ¨ manager node ä¸ŠæŸ¥çœ‹ä¸€ä¸‹ node ä¿¡æ¯
#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker node ls
#+END_SRC

#+BEGIN_SRC org
ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION
qpinc63kw5ta2t1b5ojhi8r1o     T520                Down                Active                                  18.05.0-ce
wrjpsf0ms32ioem9ozw5xu27r *   VM_0_8_centos       Ready               Active              Leader              18.03.1-ce
#+END_SRC

å¯ä»¥çœ‹åˆ°é›†ç¾¤ä¸­ =T520= çš„çŠ¶æ€å·²ç»å˜æˆ =Down= äº†ï¼Œè¦æƒ³æŠŠè¿™ä¸ªèŠ‚ç‚¹å®Œå…¨ä»é›†ç¾¤ä¸­ç§»é™¤ï¼Œåˆ™å¯ä»¥åœ¨ manager node ä¸Šæ‰§è¡Œ =docker node rm= å‘½ä»¤

#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker node rm T520
#+END_SRC

#+BEGIN_SRC org
T520
#+END_SRC

å†æŸ¥çœ‹ä¸€ä¸‹ node ä¿¡æ¯
#+BEGIN_SRC shell :results org :dir /ssh:root@tencent_cloud:
  docker node ls
#+END_SRC

#+BEGIN_SRC org
ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION
wrjpsf0ms32ioem9ozw5xu27r *   VM_0_8_centos       Ready               Active              Leader              18.03.1-ce
#+END_SRC

å¥½äº†ï¼Œ =T520= è¿™ä¸ªnodeå·²ç»è¢«å½»åº•ç§»é™¤äº†ã€‚
