#+TITLE: ä½¿ç”¨partcloneå¤‡ä»½ç£ç›˜åˆ†åŒº
#+AUTHOR: lujun9972
#+TAGS: linuxå’Œå®ƒçš„å°ä¼™ä¼´
#+DATE: [2018-03-08 å›› 12:47]
#+LANGUAGE:  zh-CN
#+OPTIONS:  H:6 num:nil toc:t \n:nil ::t |:t ^:nil -:nil f:t *:t <:nil

åœ¨linuxä¸­ï¼Œæœ€å¸¸ç”¨çš„ =block level= å¤‡ä»½å·¥å…·åº”è¯¥é =dd= è«å±äº†ã€‚ ç„¶è€Œç”¨ =dd= åšç£ç›˜å¤‡ä»½æœ‰ä¸€ä¸ªä¸å¥½çš„åœ°æ–¹å°±æ˜¯å¤ªè´¹ç©ºé—´ï¼Œç£ç›˜å¤šå¤§ï¼Œç”Ÿæˆçš„å¤‡ä»½æ–‡ä»¶å°±æœ‰å¤šå¤§ã€‚

partclone è·Ÿ =dd= ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€æ¬¾ =block level= çš„å¤‡ä»½å·¥å…·ï¼Œå› æ­¤ä½¿ç”¨å®ƒä½ æ— éœ€æ‹…å¿ƒä¼šç ´åç£ç›˜ä¸­ =acls= æˆ– =selinux labels= è¿™ä¸€ç±»ç‰¹æ®Šçš„æ–‡ä»¶æƒé™ã€‚

ä½†æ˜¯è·Ÿ =dd= ç›¸æ¯”ï¼Œ =partclone= èƒ½å¤Ÿè¯†åˆ«å¤§å¤šæ•°å¸¸è§çš„æ–‡ä»¶ç±»å‹ï¼Œåªå¤‡ä»½ç£ç›˜ä¸­ç”¨åˆ°çš„é‚£äº›blockï¼Œä»è€Œå¤§å¤§å‡å°‘å¤‡ä»½æ‰€è€—çš„ç©ºé—´ã€‚

ç›®å‰ =partclone= æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿæ ¼å¼åŒ…æ‹¬ext2, ext3, ext4, hfs+, reiserfs, xfs, jfs, ntfs, fat(12/16/32), exfatã€‚

å¯¹æ¯ç§æ–‡ä»¶ç³»ç»Ÿ =partclone= éƒ½æä¾›äº†å¯¹åº”çš„ =partclone.<fs>= å¯¹åº”ã€‚æ¯”å¦‚å¤‡ä»½ =ext4= æ–‡ä»¶ç³»ç»Ÿåˆ™ä½¿ç”¨ =parclone.ext4= è¿›è¡Œå¤‡ä»½ã€‚
å¯¹äºä¸æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿï¼Œ =partclone= ä¹Ÿæä¾›äº† =partclone.dd= æ¥å¤‡ä»½ã€‚

* å®‰è£…partclone
archlinuxä¸Šå¯ä»¥ç›´æ¥ä½¿ç”¨pacmanæ¥å®‰è£…ï¼š
#+BEGIN_SRC shell :dir /sudo:: :results org
  sudo pacman -S partclone --noconfirm
#+END_SRC

#+RESULTS:
#+BEGIN_SRC org
resolving dependencies...
looking for conflicting packages...

[0;1mPackages (1)[0m partclone-0.2.89-2

[0;1mTotal Installed Size:[0m  1.48 MiB
[0;1mNet Upgrade Size:    [0m  0.00 MiB

[1;34m::[0;1m Proceed with installation? [Y/n] [0m
(0/1) checking keys in keyring                     [[1;33mc[m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m]   0%(1/1) checking keys in keyring                     [----------------------] 100%
(0/1) checking package integrity                   [[1;33mc[m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m]   0%(1/1) checking package integrity                   [----------------------] 100%
(0/1) loading package files                        [[1;33mc[m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m]   0%(1/1) loading package files                        [----------------------] 100%
(0/1) checking for file conflicts                  [[1;33mc[m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m]   0%(1/1) checking for file conflicts                  [----------------------] 100%
(0/1) checking available disk space                [[1;33mc[m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m]   0%(1/1) checking available disk space                [----------------------] 100%
[1;34m::[0;1m Processing package changes...
[0m(1/1) reinstalling partclone                       [[1;33mc[m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m[0;37mo[m[0;37m [m[0;37m [m]   0%(1/1) reinstalling partclone                       [----------------------] 100%
[1;34m::[0;1m Running post-transaction hooks...
[0m(1/1) Arming ConditionNeedsUpdate...
#+END_SRC

* å¤‡ä»½ç£ç›˜åˆ†åŒº
