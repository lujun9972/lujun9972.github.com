#+TITLE: 使用 calc 计算保险实际收益率
#+AUTHOR: lujun9972
#+TAGS: Emacs之怒
#+DATE: [2022-08-10 三 22:03]
#+LANGUAGE:  zh-CN
#+STARTUP:  inlineimages
#+OPTIONS:  H:6 num:nil toc:t \n:nil ::t |:t ^:nil -:nil f:t *:t <:nil

今天某银行的客户经理来推销一个“增额终身寿险”，号称是能锁定3.5%的收益率。
具体来说，就是前5年每年投入一笔钱但是不计息，第6年开始按3.5%的收益率进行计息，听起来似乎很不错，毕竟长期来看利率是下行趋势。
而且现在理财的收益也不高了，能锁定3.5的利率似乎还不错，虽然前5年没算利息，但直觉上似乎利率下降不会太多。

然而在仔细计算一下，我发现情况完全不是那么一回事。
假设利率是x,可以获取收益 30 年，那么根据等比数列求和公式可以知道第5年的金额应该变成 =(1-x^5)/1-x=,
每年的利息则是 ~5*3.5%=0.175万~,30年收益的现值为 ~5/(1.035)^29+0.175*(1-(1/1.035)^30)/(1-(1/1.035))=5.175~
因此可以得到等式 ~(1-x^5)*/(1-x) = 5.175~.
对于我这种数学渣来说，这种公式完全不会计算，不过好在我有 Emacs [[help:calc][calc]] 啊

那么，让我们运行 =M-x calc=,输入 ='fsolve((1-x^5)/(1-x) = 5.175,x)= 就可以得到结果如下：
#+begin_src calc :export both :results org
fsolve((1-x^5)/(1-x) = 5.175,x)
#+end_src

#+RESULTS:
#+begin_src org
x = [0.999999999998, -1.66486357695, 1.01720155291, (-0.176168987979, -1.56021484959), (-0.176168987979, 1.56021484959)]_n5
#+end_src


可以看出，x的求值为 =1.01720155291=,也就是说实际收益率只有 =1.72%= 而已，跟直观感觉真的差别巨大啊。

#+begin_src calc
  1.035^30
#+end_src

#+RESULTS:
: 2.8067937047

#+begin_src calc
fsolver(x^35=2.8068,x)
#+end_src

#+RESULTS:
: fsolver(x^35 = 2.8068, x)
