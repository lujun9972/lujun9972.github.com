<!DOCTYPE html>
<html lang="en">
<head>
  <title>装Arch记 - 暗无天日</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="author" content="lujun9972" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" media="screen" href="/media/css/font.css" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="/media/css/main.css" type="text/css">
  <link rel="stylesheet" href="/media/css/kdComment.css" type="text/css">
  <script type="text/javascript"
          src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
</head>

  <body class="container">
<div>
  <header class="masthead">
    <h1 class="masthead-title"><a href="/">暗无天日</a></h1>
    <p>=============&gt;随便,谢谢</p>
    <nav class="site-nav">
      <div class="menu-icon">
      </div>
      <ul class="trigger">
              <li><a href="/years/">Years</a></li>
              <li><a href="/authors/">Authors</a></li>
              <li><a href="/tags/">Tags</a></li>
              <li><a href="/about/">About</a></li>
              <li><a href="https://github.com/lujun9972/lujun9972.github.com">Github</a></li>
              <li><a href="/rss.xml">RSS</a></li>
      </ul>
    </nav>
    <form method="get" id="searchform" action="http://www.google.com/search">
        <input type="text" class="field" name="q" id="s" placeholder="Search">
        <input type="hidden" name="as_sitesearch" value="lujun9972.github.io">
    </form>
  </header>
</div>

<div>
<div class="post">
<h1 class="title">装Arch记</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga78aac4">1. 安装arch</a></li>
<li><a href="#orga4a1292">2. 配置网络</a></li>
<li><a href="#org7225560">3. 配置用户</a></li>
<li><a href="#org03cd7f4">4. 添加Archlinux CN 镜像源</a></li>
<li><a href="#org4ff39ba">5. AUR</a></li>
<li><a href="#org0ed137c">6. 配置中文输入法</a></li>
<li><a href="#org196ee66">7. Git</a></li>
<li><a href="#org1c0fc8b">8. pandoc</a></li>
<li><a href="#org5949080">9. openssh</a></li>
<li><a href="#orgaf7a5f4">10. Emacs</a></li>
<li><a href="#org16e8699">11. ShadowSocks</a>
<ul>
<li><a href="#org621d48f">11.1. 安装</a></li>
</ul>
</li>
<li><a href="#org700caa2">12. 窗口管理器</a></li>
<li><a href="#orgfa3ab15">13. 声音配置</a></li>
<li><a href="#org80f04ad">14. Terminator(可选,用eshell代替)</a></li>
<li><a href="#orgc572b55">15. 文件管理器(可选，用dired代替)</a></li>
<li><a href="#orgc33f135">16. 多媒体</a>
<ul>
<li><a href="#org07ec39e">16.1. 看图工具</a></li>
<li><a href="#org284b8cc">16.2. 看视频</a></li>
</ul>
</li>
<li><a href="#org56debc4">17. 坚果云</a></li>
<li><a href="#org9cfa132">18. zeal</a></li>
<li><a href="#org5bb7ca2">19. wps</a></li>
<li><a href="#orgf059d9c">20. 终端环境下的工具</a>
<ul>
<li><a href="#org606a276">20.1. 配置中文环境</a></li>
<li><a href="#org8cd3cc4">20.2. 媒体播放</a>
<ul>
<li><a href="#org23659b7">20.2.1. mpg123</a></li>
<li><a href="#orge057f0f">20.2.2. moc</a></li>
<li><a href="#org9cd25d2">20.2.3. mplayer</a></li>
<li><a href="#org1e9dc41">20.2.4. musicbox</a></li>
<li><a href="#org2b0de9d">20.2.5. Emacs+EMMS+wangyi-music</a></li>
<li><a href="#org76280fd">20.2.6. cmus</a></li>
</ul>
</li>
<li><a href="#orgce9a488">20.3. w3m浏览网页</a></li>
<li><a href="#org431c3a3">20.4. ledger基于终端的帐务管理软件</a></li>
<li><a href="#org58f5f78">20.5. 下载</a></li>
<li><a href="#org24a0065">20.6. 日历系统</a></li>
<li><a href="#org8d41881">20.7. RSS &amp; podcaster</a></li>
<li><a href="#orgffdec74">20.8. 查看PDF,图片:fbida</a></li>
<li><a href="#org34ce137">20.9. 截图工具:fbgrab</a></li>
<li><a href="#org389454b">20.10. IM工具</a></li>
<li><a href="#org1f260e8">20.11. 游戏</a></li>
<li><a href="#orgc2e7fe1">20.12. 讲稿演示</a></li>
<li><a href="#orgf7672bb">20.13. 有趣的工具</a></li>
</ul>
</li>
<li><a href="#org29d78e0">21. 恢复配置</a></li>
</ul>
</div>
</div>

<div id="outline-container-orga78aac4" class="outline-2">
<h2 id="orga78aac4"><span class="section-number-2">1</span> 安装arch</h2>
<div class="outline-text-2" id="text-1">
<p>
安装arch很简单，基本上按照arch wiki上写的一步步来就行了。
</p>

<p>
我主要参考了两个链接：
<a href="http://bbs.archlinuxcn.org/viewtopic.php?id=1037">Arch Linux 安装指南</a>
</p>

<p>
<a href="https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">Arch wiki 安装指南</a>
</p>

<p>
不过在过程中还是遇到了一个小坑：
</p>

<p>
按照Wiki的说法, <code>arch-chroot</code> 之后需要再次设置网络，但是我用wifi-menu重设了一次无线网络后，结果提示
</p>
<pre class="example">
Interface 'wlp4s2' is controlled by netctl-auto
</pre>

<p>
然后尝试ping外网发现网络是断的。推出chroot后用 <code>ip link</code> 发现wlp4s2接口被down掉了.
</p>

<p>
在up该接口后,回复互联网的访问. 然后重新进入 <code>arch-chroot</code> 继续后面的操作.
</p>
<div class="org-src-container">
<pre class="src src-sh">ip link set wlp4s2 up
</pre>
</div>
</div>
</div>

<div id="outline-container-orga4a1292" class="outline-2">
<h2 id="orga4a1292"><span class="section-number-2">2</span> 配置网络</h2>
<div class="outline-text-2" id="text-2">
<ol class="org-ol">
<li><p>
用 <code>wifi-menu</code> 配置好wifi
</p>
<div class="org-src-container">
<pre class="src src-sh">wifi-menu -o
</pre>
</div></li>

<li><p>
安装自动连接wifi的软件包
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S --needed wpa_actiond ifplugd wpa_supplicant
</pre>
</div>
<p>
其中:
</p>
<dl class="org-dl">
<dt>wpa_actiond</dt><dd>用于自动连接无线网络（Wireless Roaming/autoconnect ）</dd>
<dt>ifplugd</dt><dd>用于自动连接以太网（Wired link detection ）。</dd>
<dt>wpa_supplicant</dt><dd>用于无线网络认证</dd>
</dl></li>

<li><p>
关闭netctl服务,启动netctl-auto服务
</p>
<div class="org-src-container">
<pre class="src src-sh">systemctl disable netctl
systemctl enable netctl-auto@wlp4s2
</pre>
</div>

<p>
<b>不能同时启动netctl与netctl-auto</b>,两者冲突
</p></li>
</ol>
</div>
</div>
<div id="outline-container-org7225560" class="outline-2">
<h2 id="org7225560"><span class="section-number-2">3</span> 配置用户</h2>
<div class="outline-text-2" id="text-3">
<ol class="org-ol">
<li><p>
创建用户
</p>
<div class="org-src-container">
<pre class="src src-sh">useradd -m -g users -s /bin/bash lujun9972
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">passwd lujun9972</span>
</pre>
</div></li>
<li><p>
配置sudo
</p>
<div class="org-src-container">
<pre class="src src-sh">visudo
</pre>
</div>
<p>
让wheel组的用户能够suduo
</p></li>
<li><p>
将用户加入wheel组
</p>
<div class="org-src-container">
<pre class="src src-sh">usermod -a -G wheel lujun9972
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-org03cd7f4" class="outline-2">
<h2 id="org03cd7f4"><span class="section-number-2">4</span> 添加Archlinux CN 镜像源</h2>
<div class="outline-text-2" id="text-4">
<div class="org-src-container">
<pre class="src src-shell">cat &gt;&gt;/etc/pacman.conf &lt;&lt;EOF
<span style="color: #ffff00; font-weight: bold;">[archlinuxcn]</span>
<span style="color: #ffff00; font-weight: bold;">SigLevel = Optional TrustedOnly</span>
<span style="color: #ffff00; font-weight: bold;">Server = https://mirrors.ustc.edu.cn/archlinuxcn/\$arch</span>
<span style="color: #ffff00; font-weight: bold;">EOF</span>

pacman -Syy
pacman --noconfirm -S archlinuxcn-keyring 
</pre>
</div>
</div>
</div>
<div id="outline-container-org4ff39ba" class="outline-2">
<h2 id="org4ff39ba"><span class="section-number-2">5</span> AUR</h2>
<div class="outline-text-2" id="text-5">
<p>
安装yaourt
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S yaourt
</pre>
</div>
</div>
</div>

<div id="outline-container-org0ed137c" class="outline-2">
<h2 id="org0ed137c"><span class="section-number-2">6</span> 配置中文输入法</h2>
<div class="outline-text-2" id="text-6">
<ol class="org-ol">
<li><p>
安装fictx
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S fcitx-im fcitx-configtool fcitx-sunpinyin
</pre>
</div></li>

<li><p>
在.xinitrc中添加:
</p>
<div class="org-src-container">
<pre class="src src-conf"><span style="color: #7590db;">export GTK_IM_MODULE</span>=fcitx
<span style="color: #7590db;">export QT_IM_MODULE</span>=fcitx
<span style="color: #7590db;">export XMODIFIERS</span>=<span style="color: #2d9574;">"@im=fcitx"</span>
fcitx &amp;
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-org196ee66" class="outline-2">
<h2 id="org196ee66"><span class="section-number-2">7</span> Git</h2>
<div class="outline-text-2" id="text-7">
<ol class="org-ol">
<li><p>
安装git
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S git
</pre>
</div></li>

<li><p>
配置git
</p>
<div class="org-src-container">
<pre class="src src-sh">git config --global --global user.email <span style="color: #2d9574;">"lujun9972@gmail.com"</span>
git config --global --global user.name <span style="color: #2d9574;">"darksun"</span>
git config --global core.quotepath false
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#37197;&#32622;diff&#24037;&#20855;</span>
git config --global diff.tool ediff
git config --global difftool.ediff.cmd <span style="color: #2d9574;">"~/bin/ediff.sh \"\$LOCAL\" \"\$REMOTE\""</span>
git config --global difftool.prompt false
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#37197;&#32622;merge&#24037;&#20855;</span>
git config --global merge.tool ediff
git config --global mergetool.ediff.cmd <span style="color: #2d9574;">"~/bin/ediff_merge.sh \"$BASE\" \"\$LOCAL\" \"\$REMOTE\" \"$MERGED\""</span>
git config --global mergetool.prompt false
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">git config --global mergetool.ediff.trustExitCode true</span>
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-org1c0fc8b" class="outline-2">
<h2 id="org1c0fc8b"><span class="section-number-2">8</span> pandoc</h2>
<div class="outline-text-2" id="text-8">
<ol class="org-ol">
<li><p>
安装pandoc
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S pandoc
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-org5949080" class="outline-2">
<h2 id="org5949080"><span class="section-number-2">9</span> openssh</h2>
<div class="outline-text-2" id="text-9">
<ol class="org-ol">
<li><p>
安装openssh
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S git
</pre>
</div></li>

<li><p>
自动启动sshd服务
</p>
<div class="org-src-container">
<pre class="src src-shell">systemctl enable sshd.service
</pre>
</div></li>

<li><p>
生成公钥
</p>
<div class="org-src-container">
<pre class="src src-sh">ssh-keygen -y
cat .ssh/id_rsa.pub
</pre>
</div></li>

<li>将公钥内容放到 <a href="https://www.github.com">github</a> 中</li>
</ol>
</div>
</div>

<div id="outline-container-orgaf7a5f4" class="outline-2">
<h2 id="orgaf7a5f4"><span class="section-number-2">10</span> Emacs</h2>
<div class="outline-text-2" id="text-10">
<ol class="org-ol">
<li><p>
安装Emacs
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S emacs
</pre>
</div></li>
<li><p>
安装配置
</p>
<div class="org-src-container">
<pre class="src src-sh">git clone git@github.com:lujun9972/bin.git ~/bin
git clone git@github.com:lujun9972/MyLisp.git ~/MyLisp
git clone git@github.com:lujun9972/.spacemacs.d.git ~/.spacemacs.d
mv ~/.emacs.d ~/emacs.d.bak
git clone https://github.com/syl20bnr/spacemacs ~/.emacs.d
</pre>
</div></li>
<li><p>
spacemacs的python layer需要安装virtualenvwrapper
</p>
<div class="org-src-container">
<pre class="src src-shell">pacman --noconfirm -S python-virtualenvwrapper
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-org16e8699" class="outline-2">
<h2 id="org16e8699"><span class="section-number-2">11</span> ShadowSocks</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org621d48f" class="outline-3">
<h3 id="org621d48f"><span class="section-number-3">11.1</span> 安装</h3>
<div class="outline-text-3" id="text-11-1">
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S shadowsocks
pacman --noconfirm -S shadowsocks-qt5
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org700caa2" class="outline-2">
<h2 id="org700caa2"><span class="section-number-2">12</span> 窗口管理器</h2>
<div class="outline-text-2" id="text-12">
<ol class="org-ol">
<li><p>
安装X
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S xorg xorg-server xorg-server-utils xorg-xinit  <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#23433;&#35013; Xorg</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">pacman -S xf86-input-synaptics    # &#21487;&#36873;&#65292;&#35302;&#25720;&#26495;&#25903;&#25345;</span>
pacman -S ttf-dejavu wqy-microhei    <span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#21487;&#36873;&#65292;Dejavu &#19982;&#25991;&#27849;&#39551; - &#24494;&#31859;&#40657;&#23383;&#20307;</span>
</pre>
</div></li>

<li><p>
安装awesomeWm
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S awesome
</pre>
</div></li>

<li><p>
在.xinitrc中添加:
</p>
<div class="org-src-container">
<pre class="src src-conf">exec awesome
</pre>
</div></li>

<li><p>
安装archlinux-xdg-menu
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S archlinux-xdg-menu
</pre>
</div></li>

<li><p>
生成awesome menu
</p>
<div class="org-src-container">
<pre class="src src-sh">mkdir -p ~/.config/awesome/
xdg_menu --format awesome --root-menu /etc/xdg/menus/arch-applications.menu &gt;~/.config/awesome/archmenu.lua
</pre>
</div></li>
</ol>
</div>
</div>


<div id="outline-container-orgfa3ab15" class="outline-2">
<h2 id="orgfa3ab15"><span class="section-number-2">13</span> 声音配置</h2>
<div class="outline-text-2" id="text-13">
<p>
Arch Linux默认开启了声音支持，默认静音。用户可通过 alsamixer（所属包：alsa-utils） 取消静音：
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S alsa-utils
</pre>
</div>

<ul class="org-ul">
<li>方向键 选中 Master 和 PCM</li>
<li>[M] 取消静音</li>
<li>上下键调整音量</li>
</ul>
</div>
</div>
<div id="outline-container-org80f04ad" class="outline-2">
<h2 id="org80f04ad"><span class="section-number-2">14</span> Terminator(可选,用eshell代替)</h2>
<div class="outline-text-2" id="text-14">
<ol class="org-ol">
<li><p>
terminator
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S terminator
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-orgc572b55" class="outline-2">
<h2 id="orgc572b55"><span class="section-number-2">15</span> 文件管理器(可选，用dired代替)</h2>
<div class="outline-text-2" id="text-15">
<ol class="org-ol">
<li><p>
rox
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S rox
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-orgc33f135" class="outline-2">
<h2 id="orgc33f135"><span class="section-number-2">16</span> 多媒体</h2>
<div class="outline-text-2" id="text-16">
</div>
<div id="outline-container-org07ec39e" class="outline-3">
<h3 id="org07ec39e"><span class="section-number-3">16.1</span> 看图工具</h3>
<div class="outline-text-3" id="text-16-1">
<ol class="org-ol">
<li><p>
feh
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S feh
</pre>
</div></li>
<li><p>
sxiv
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S sxiv
</pre>
</div></li>
</ol>
</div>
</div>
<div id="outline-container-org284b8cc" class="outline-3">
<h3 id="org284b8cc"><span class="section-number-3">16.2</span> 看视频</h3>
<div class="outline-text-3" id="text-16-2">
<ol class="org-ol">
<li><p>
mpv
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S mpv
</pre>
</div></li>
</ol>
</div>
</div>
</div>
<div id="outline-container-org56debc4" class="outline-2">
<h2 id="org56debc4"><span class="section-number-2">17</span> 坚果云</h2>
<div class="outline-text-2" id="text-17">
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S nutstore
</pre>
</div>
</div>
</div>
<div id="outline-container-org9cfa132" class="outline-2">
<h2 id="org9cfa132"><span class="section-number-2">18</span> zeal</h2>
<div class="outline-text-2" id="text-18">
<div class="org-src-container">
<pre class="src src-shell">pacman --noconfirm -S zeal
</pre>
</div>
</div>
</div>

<div id="outline-container-org5bb7ca2" class="outline-2">
<h2 id="org5bb7ca2"><span class="section-number-2">19</span> wps</h2>
<div class="outline-text-2" id="text-19">
<div class="org-src-container">
<pre class="src src-shell">pacman --noconfirm -S wps-office ttf-wps-fonts
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf059d9c" class="outline-2">
<h2 id="orgf059d9c"><span class="section-number-2">20</span> 终端环境下的工具</h2>
<div class="outline-text-2" id="text-20">
</div>
<div id="outline-container-org606a276" class="outline-3">
<h3 id="org606a276"><span class="section-number-3">20.1</span> 配置中文环境</h3>
<div class="outline-text-3" id="text-20-1">
<ol class="org-ol">
<li><p>
fbterm支持终端环境中文处理
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">pacman --noconfirm -S fbterm libx86</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#33509;&#24819;&#20351;&#29992;&#38750;&#26681;&#29992;&#25143;&#36816;&#34892;fbterm&#65292;&#38656;&#35201;&#25226;&#29992;&#25143;&#21152;&#20837;video&#32452;</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#22312;&#26368;&#36817;&#30340;&#26356;&#26032;&#20013;fbterm&#24050;&#32463;&#19981;&#22312;pacman&#30340;package&#20013;&#20102;,&#38656;&#35201;&#29992;</span>
yaourt -S fbterm libx86
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#26469;&#23433;&#35013;</span>
gpasswd -a $<span style="color: #7590db;">YOUR_USERNAME</span> video
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#33509;&#24819;&#38750;&#26681;&#29992;&#25143;&#21487;&#20351;&#29992;&#38190;&#30424;&#24555;&#25463;&#26041;&#24335;&#65292;&#38656;&#35201;&#65306;</span>
sudo setcap <span style="color: #2d9574;">'cap_sys_tty_config+ep'</span> /usr/bin/fbterm
</pre>
</div>

<p>
fbterm本身还支持多窗口:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">功能说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-M-E</td>
<td class="org-left">退出fbterm</td>
</tr>

<tr>
<td class="org-left">C-M-C</td>
<td class="org-left">创建新窗口</td>
</tr>

<tr>
<td class="org-left">C-M-数字</td>
<td class="org-left">切换到第N个窗口</td>
</tr>

<tr>
<td class="org-left">S-方向键</td>
<td class="org-left">切换到上/下一个窗口</td>
</tr>
</tbody>
</table></li>

<li><p>
使用fcitx-fbterm作为中文输入法
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">pacman --noconfirm -S fcitx-fbterm</span>
<span style="color: #2aa1ae; background-color: #292e34;"># </span><span style="color: #2aa1ae; background-color: #292e34;">&#22312;&#26368;&#36817;&#30340;&#26356;&#26032;&#20013;fcitx-fbterm&#24050;&#32463;&#19981;&#22312;pacman&#30340;package&#20013;&#20102;,&#38656;&#35201;&#20174;github&#19978;&#19979;&#36733;&#28304;&#20195;&#30721;&#26469;&#32534;&#35793;</span>
</pre>
</div>
<p>
安装好后，可以通过 <code>fcitx-fbterm-helper -l</code> 启动中文输入法
</p></li>
<li><p>
安装framebuffer下的虚拟X server
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S xorg-server-xvfb xf86-video-fbdev
</pre>
</div></li>
<li><p>
framebuffer设置工具
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S fbset
</pre>
</div></li>
</ol>
</div>
</div>


<div id="outline-container-org8cd3cc4" class="outline-3">
<h3 id="org8cd3cc4"><span class="section-number-3">20.2</span> 媒体播放</h3>
<div class="outline-text-3" id="text-20-2">
</div>
<div id="outline-container-org23659b7" class="outline-4">
<h4 id="org23659b7"><span class="section-number-4">20.2.1</span> mpg123</h4>
<div class="outline-text-4" id="text-20-2-1">
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S mpg123
</pre>
</div>
</div>
</div>
<div id="outline-container-orge057f0f" class="outline-4">
<h4 id="orge057f0f"><span class="section-number-4">20.2.2</span> moc</h4>
<div class="outline-text-4" id="text-20-2-2">
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S moc
</pre>
</div>
</div>
</div>
<div id="outline-container-org9cd25d2" class="outline-4">
<h4 id="org9cd25d2"><span class="section-number-4">20.2.3</span> mplayer</h4>
<div class="outline-text-4" id="text-20-2-3">
<p>
安装mplayer
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S mplayer
</pre>
</div>

<p>
mplayer支持在终端环境下播放影片,但是需要指明输出驱动:
</p>
<div class="org-src-container">
<pre class="src src-sh">mplayer -vo fbdev2 $<span style="color: #7590db;">MEDIA_FILE</span>
</pre>
</div>

<p>
mplayer在播放时支持以下快捷键:
</p>

<dl class="org-dl">
<dt>左方向键和右方向键</dt><dd>分别执行倒退 10 秒和快进 10 秒操作</dd>
<dt>下方向键和上方向键</dt><dd>分别执行倒退 1 分钟和快进 1 分钟操作</dd>
<dt>下翻页键和上翻页键</dt><dd>分别执行倒退 10 分钟和快进 10 分钟操作</dd>
<dt>f</dt><dd>当播放视频时，在全屏和窗口模式之间切换。你也可以在命令行中使用 -fs 选项，以便让 MPlayer 开始在全屏模式中播放。</dd>
<dt>o</dt><dd>在播放视频时切换 OSD（OnScreen Display）模式。</dd>
<dt>p 或 Space</dt><dd>暂停／继续播放。</dd>
<dt>q 或 Esc</dt><dd>退出 MPlayer。在 GUI 模式时，Esc 不会退出，仅停止播放。</dd>
<dt>/ 和 * 或 9 和 0</dt><dd>减小或增大音量。</dd>
<dt>m</dt><dd>静音切换。</dd>
<dt>T（通常是 Shift + t）</dt><dd>播放窗口置顶切换。</dd>
<dt>b 和 j</dt><dd>在可用的字幕间循环。</dd>
<dt>x 和 z</dt><dd>调整字幕的延迟时间。</dd>
<dt>I（Shift + i）</dt><dd>显示播放电影的文件名称。</dd>
<dt>1 和 2</dt><dd>调整对比度。</dd>
<dt>3 和 4</dt><dd>调整亮度。</dd>
<dt>5 和 6</dt><dd>调整色度。</dd>
<dt>7 和 8</dt><dd>调整饱和度</dd>
</dl>

<p>
更多的mplayer操作参见 <a href="https://linuxtoy.org/archives/playing-around-with-mplayer.html">玩转 MPlayer</a>
</p>
</div>
</div>
<div id="outline-container-org1e9dc41" class="outline-4">
<h4 id="org1e9dc41"><span class="section-number-4">20.2.4</span> musicbox</h4>
<div class="outline-text-4" id="text-20-2-4">
<p>
高品质网易云音乐命令行版本，简洁优雅，丝般顺滑，基于Python编写。
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman -S --noconfirm netease-musicbox-git
</pre>
</div>
<table id="org87f83d1" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">J</td>
<td class="org-left">Down</td>
<td class="org-left">下移</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-left">Up</td>
<td class="org-left">上移</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-left">Back</td>
<td class="org-left">后退</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-left">Forword</td>
<td class="org-left">前进</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-left">Prev page</td>
<td class="org-left">上一页</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-left">Next page</td>
<td class="org-left">下一页</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">Search</td>
<td class="org-left">快速搜索</td>
</tr>

<tr>
<td class="org-left">[</td>
<td class="org-left">Prev song</td>
<td class="org-left">上一曲</td>
</tr>

<tr>
<td class="org-left">]</td>
<td class="org-left">Next song</td>
<td class="org-left">下一曲</td>
</tr>

<tr>
<td class="org-left">=</td>
<td class="org-left">Volume +</td>
<td class="org-left">音量增加</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">Volume -</td>
<td class="org-left">音量减少</td>
</tr>

<tr>
<td class="org-left">Space</td>
<td class="org-left">Play/Pause</td>
<td class="org-left">播放/暂停</td>
</tr>

<tr>
<td class="org-left">?</td>
<td class="org-left">Shuffle</td>
<td class="org-left">手气不错</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-left">Menu</td>
<td class="org-left">主菜单</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">Present/History</td>
<td class="org-left">当前/历史播放列表</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-left">Music Info</td>
<td class="org-left">当前音乐信息</td>
</tr>

<tr>
<td class="org-left">⇧+P</td>
<td class="org-left">Playing Mode</td>
<td class="org-left">播放模式切换</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">Add</td>
<td class="org-left">添加曲目到打碟</td>
</tr>

<tr>
<td class="org-left">⇧+A</td>
<td class="org-left">Enter album</td>
<td class="org-left">进入专辑</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-left">To the first</td>
<td class="org-left">跳至首项</td>
</tr>

<tr>
<td class="org-left">⇧+G</td>
<td class="org-left">To the end</td>
<td class="org-left">跳至尾项</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-left">DJ list</td>
<td class="org-left">打碟列表</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-left">Star</td>
<td class="org-left">添加到收藏</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-left">Collection</td>
<td class="org-left">收藏列表</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-left">Remove</td>
<td class="org-left">删除当前条目</td>
</tr>

<tr>
<td class="org-left">⇧+J</td>
<td class="org-left">Move Down</td>
<td class="org-left">向下移动当前项目</td>
</tr>

<tr>
<td class="org-left">⇧+K</td>
<td class="org-left">Move Up</td>
<td class="org-left">向上移动当前项目</td>
</tr>

<tr>
<td class="org-left">⇧+C</td>
<td class="org-left">Cache</td>
<td class="org-left">缓存歌曲到本地</td>
</tr>

<tr>
<td class="org-left">,</td>
<td class="org-left">Like</td>
<td class="org-left">喜爱</td>
</tr>

<tr>
<td class="org-left">.</td>
<td class="org-left">Trash FM</td>
<td class="org-left">删除 FM</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-left">Quit</td>
<td class="org-left">退出</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-left">Quit&amp;Clear</td>
<td class="org-left">退出并清除用户信息</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org2b0de9d" class="outline-4">
<h4 id="org2b0de9d"><span class="section-number-4">20.2.5</span> Emacs+EMMS+wangyi-music</h4>
</div>
<div id="outline-container-org76280fd" class="outline-4">
<h4 id="org76280fd"><span class="section-number-4">20.2.6</span> cmus</h4>
<div class="outline-text-4" id="text-20-2-6">
<div class="org-src-container">
<pre class="src src-shell">pacman --noconfirm -S moc
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgce9a488" class="outline-3">
<h3 id="orgce9a488"><span class="section-number-3">20.3</span> w3m浏览网页</h3>
<div class="outline-text-3" id="text-20-3">
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S w3m imlib2
</pre>
</div>
</div>
</div>
<div id="outline-container-org431c3a3" class="outline-3">
<h3 id="org431c3a3"><span class="section-number-3">20.4</span> ledger基于终端的帐务管理软件</h3>
<div class="outline-text-3" id="text-20-4">
<div class="org-src-container">
<pre class="src src-sh">yaourt --noconfirm -S ledger
</pre>
</div>
</div>
</div>
<div id="outline-container-org58f5f78" class="outline-3">
<h3 id="org58f5f78"><span class="section-number-3">20.5</span> 下载</h3>
<div class="outline-text-3" id="text-20-5">
<ol class="org-ol">
<li><p>
rtorrent
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S rtorrent
</pre>
</div></li>

<li><p>
aria2
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S aria2 aria2-fast
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-org24a0065" class="outline-3">
<h3 id="org24a0065"><span class="section-number-3">20.6</span> 日历系统</h3>
<div class="outline-text-3" id="text-20-6">
<ol class="org-ol">
<li><p>
calcurse
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S calcurse
</pre>
</div>

<p>
关于calcurse的用法,推荐阅读 <a href="https://linux.cn/article-4853-1.html">在 Linux 终端下使用 calcurse 安排约会和待办事项</a>
</p></li>

<li><p>
remind+wyrd
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S remind wyrd
</pre>
</div></li>

<li>Emacs+Org+diary</li>
</ol>
</div>
</div>

<div id="outline-container-org8d41881" class="outline-3">
<h3 id="org8d41881"><span class="section-number-3">20.7</span> RSS &amp; podcaster</h3>
<div class="outline-text-3" id="text-20-7">
<ol class="org-ol">
<li><p>
newsbeuter
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S newsbeuter
</pre>
</div>

<p>
关于newsbeuter的用法可以参见<a href="https://linuxtoy.org/archives/newsbeuter.html">Newsbeuter：在控制台下读 RSS 新闻</a>
</p></li>

<li>Emacs+elfeed+podcaster</li>
</ol>
</div>
</div>
<div id="outline-container-orgffdec74" class="outline-3">
<h3 id="orgffdec74"><span class="section-number-3">20.8</span> 查看PDF,图片:fbida</h3>
<div class="outline-text-3" id="text-20-8">
<ol class="org-ol">
<li><p>
安装
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S fbida
</pre>
</div></li>

<li>用法

<ul class="org-ul">
<li>使用fbi查看图片</li>

<li>使用fbpdf查看pdf</li>
</ul></li>
</ol>
</div>
</div>

<div id="outline-container-org34ce137" class="outline-3">
<h3 id="org34ce137"><span class="section-number-3">20.9</span> 截图工具:fbgrab</h3>
<div class="outline-text-3" id="text-20-9">
<ol class="org-ol">
<li><p>
安装
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S fbgrab
</pre>
</div></li>

<li><p>
用法
fbgrab会抓取frambuffer device中的屏幕内容并转存为png文件. 
它的使用方法也很简单:
</p>
<div class="org-src-container">
<pre class="src src-shell">fbgrab <span style="color: #4f97d7;">[</span>options<span style="color: #4f97d7;">]</span> filename
</pre>
</div>

<p>
其中常见的选项有:
</p>

<dl class="org-dl">
<dt>-s n</dt><dd>等待n秒后再开始抓图</dd>

<dt>-b bitdepth</dt><dd>指定抓取像素的色彩位数</dd>

<dt>-h height</dt><dd>指定抓取的高度,以像素为单位.</dd>

<dt>-w width</dt><dd>指定抓取的宽度,以像素为单位.</dd>

<dt>-z</dt><dd>设定png文件的压缩等级,从0(最快)到9(压缩效果最好)</dd>
</dl></li>
</ol>
</div>
</div>

<div id="outline-container-org389454b" class="outline-3">
<h3 id="org389454b"><span class="section-number-3">20.10</span> IM工具</h3>
<div class="outline-text-3" id="text-20-10">
<ol class="org-ol">
<li><p>
finch
</p>

<p>
这个可以看成是pidgin的CLI版
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S finch
</pre>
</div></li>
</ol>
</div>
</div>



<div id="outline-container-org1f260e8" class="outline-3">
<h3 id="org1f260e8"><span class="section-number-3">20.11</span> 游戏</h3>
<div class="outline-text-3" id="text-20-11">
<ol class="org-ol">
<li><p>
nethack
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S nethack
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-orgc2e7fe1" class="outline-3">
<h3 id="orgc2e7fe1"><span class="section-number-3">20.12</span> 讲稿演示</h3>
<div class="outline-text-3" id="text-20-12">
<div class="org-src-container">
<pre class="src src-shell">yaourt --noconfirm -S tpp
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf7672bb" class="outline-3">
<h3 id="orgf7672bb"><span class="section-number-3">20.13</span> 有趣的工具</h3>
<div class="outline-text-3" id="text-20-13">
<ol class="org-ol">
<li><p>
pv
</p>

<p>
pv可以以实时敲打出来的方式显示一段文字
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S pv
</pre>
</div></li>

<li><p>
toilet
</p>

<p>
toilet可以为一段文字添加边框
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -S toilet
</pre>
</div></li>
</ol>
</div>
</div>
</div>




<div id="outline-container-org29d78e0" class="outline-2">
<h2 id="org29d78e0"><span class="section-number-2">21</span> 恢复配置</h2>
<div class="outline-text-2" id="text-21">
<p>
我用Emacs的org-mode来管理dotfile. 
</p>

<p>
所有的dotfile基本都以src block的形式存在<a href="https://github.com/lujun9972/dotfile/blob/master/dotfile.org">https://github.com/lujun9972/dotfile/blob/master/dotfile.org</a> 中了
</p>

<p>
只需要执行下面这段emacs-lisp代码就能恢复配置了
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">require</span> '<span style="color: #a45bad;">url-handlers</span><span style="color: #4f97d7;">)</span>
<span style="color: #4f97d7;">(</span><span style="color: #4f97d7; font-weight: bold;">let</span> <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span>tmpfile <span style="color: #67b11d;">(</span>make-temp-name <span style="color: #2d9574;">"/tmp/dotfile"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>url-copy-file  <span style="color: #2d9574;">"https://raw.githubusercontent.com/lujun9972/dotfile/master/dotfile.org"</span> tmpfile<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>find-file tmpfile<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>org-mode<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>call-interactively #'org-babel-tangle<span style="color: #bc6ec5;">)</span>
  <span style="color: #bc6ec5;">(</span>delete-file tmpfile<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span>
</pre>
</div>
</div>
</div>

</div>
</div>
<div>
  <div class="post-meta">
    <span title="post date" class="post-info">2016-10-20</span>
    <span title="last modification date" class="post-info">2016-10-23</span>
    <span title="tags" class="post-info">N/A</span>
    <span title="author" class="post-info">lujun9972</span>
  </div>
  <script src="/media/js/jquery-2.1.3.min.js"></script>
  <script src="/media/js/md5.min.js"></script>
  <section>
      <div id="gitalk-container"></div>
      <script type="text/javascript">
       var gitalk = new Gitalk({
           clientID: 'fdcb5d9da3f4acb4862c',
           clientSecret: 'dd0a16312a206782cb7669dcec5e96874ab48170',
           repo: 'lujun9972.github.com',
           owner: 'lujun9972',
           admin: ['lujun9972'],
           id: md5(location.pathname),      // Ensure uniqueness and length less than 50
           distractionFreeMode: false  // Facebook-like distraction free mode
       })
       gitalk.render('gitalk-container')
      </script>
  </section>
  <script src="/media/js/kdComment.js"></script>
      <script>
       var _hmt = _hmt || [];
       (function() {
           var hm = document.createElement("script");
           hm.src = "https://hm.baidu.com/hm.js?7bac4fd0247f69c27887e0d4e3aee41e";
           var s = document.getElementsByTagName("script")[0]; 
           s.parentNode.insertBefore(hm, s);
       })();
      </script>
  <div class="footer">
    <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 26.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
    <p>
      Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:lujun9972 &lt;at&gt; T520">lujun9972</a>
      &nbsp;&nbsp;-&nbsp;&nbsp;
      Powered by <a href="https://github.com/emacs-china/EGO" target="_blank">EGO</a><br/>
      Themed with <a href="https://github.com/kuangdash/emacs_love" target="_blank">emacs_love</a>
        <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license"><img src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" style="border-width:0" alt="Creative Commons License" class="center"></a>
      <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
    </p>
  </div>
    </div>

  </body>
</html>
